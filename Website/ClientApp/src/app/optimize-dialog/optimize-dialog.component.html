<h2 mat-dialog-title>Optimizer settings</h2>
<mat-dialog-content class="mat-typography">
  <form>
    <mat-form-field>
      <mat-label>Artifact selection</mat-label>
      <mat-select [(value)]="filter">
        <mat-option value="all">All</mat-option>
        <mat-option value="not-equipped">Not equipped</mat-option>
      </mat-select>
    </mat-form-field>
    &nbsp;&nbsp;
    <mat-checkbox [(ngModel)]="maxToSixteen" [ngModelOptions]="{standalone: true}">Max main stat to level 16</mat-checkbox>
    &nbsp;&nbsp;
    <mat-form-field>
      <mat-label>Preferred set</mat-label>
      <mat-select [(value)]="preferredSet">
        <mat-option value="">No preference</mat-option>
        <mat-option *ngFor="let set of sets" [value]="set.setKind">{{ set.name }}</mat-option>
      </mat-select>
    </mat-form-field>
    <br />
    Optimize:<br />
    <mat-checkbox [(ngModel)]="optimizeWeapon" [ngModelOptions]="{standalone: true}">Weapon</mat-checkbox>
    &nbsp;&nbsp;
    <mat-checkbox [(ngModel)]="optimizeHelmet" [ngModelOptions]="{standalone: true}">Helmet</mat-checkbox>
    &nbsp;&nbsp;
    <mat-checkbox [(ngModel)]="optimizeShield" [ngModelOptions]="{standalone: true}">Shield</mat-checkbox>
    &nbsp;&nbsp;
    <mat-checkbox [(ngModel)]="optimizeGloves" [ngModelOptions]="{standalone: true}">Gloves</mat-checkbox>
    &nbsp;&nbsp;
    <mat-checkbox [(ngModel)]="optimizeChest" [ngModelOptions]="{standalone: true}">Chest</mat-checkbox>
    &nbsp;&nbsp;
    <mat-checkbox [(ngModel)]="optimizeBoots" [ngModelOptions]="{standalone: true}">Boots</mat-checkbox>
    &nbsp;&nbsp;
    <mat-checkbox [(ngModel)]="optimizeRing" [ngModelOptions]="{standalone: true}">Ring</mat-checkbox>
    &nbsp;&nbsp;
    <mat-checkbox [(ngModel)]="optimizeCloak" [ngModelOptions]="{standalone: true}">Amulet</mat-checkbox>
    &nbsp;&nbsp;
    <mat-checkbox [(ngModel)]="optimizeBanner" [ngModelOptions]="{standalone: true}">Banner</mat-checkbox>
    <br />
    <table>
      <tr>
        <td>
          Health
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="minimum" [formControl]="minimumHealth" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="maximum" [formControl]="maximumHealth" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="soft-cap *" [formControl]="capHealth" />
          </mat-form-field>
        </td>
        <td>
          <mat-slider thumbLabel [displayWith]="weightDisplay" tickInterval="1" min="0" max="3" [(value)]="weightHealth"></mat-slider>
        </td>
      </tr>
      <tr>
        <td>
          Attack
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="minimum" [formControl]="minimumAttack" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="maximum" [formControl]="maximumAttack" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="soft-cap *" [formControl]="capAttack" />
          </mat-form-field>
        </td>
        <td>
          <mat-slider thumbLabel [displayWith]="weightDisplay" tickInterval="1" min="0" max="3" [(value)]="weightAttack"></mat-slider>
        </td>
      </tr>
      <tr>
        <td>
          Defense
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="minimum" [formControl]="minimumDefense" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="maximum" [formControl]="maximumDefense" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="soft-cap *" [formControl]="capDefense" />
          </mat-form-field>
        </td>
        <td>
          <mat-slider thumbLabel [displayWith]="weightDisplay" tickInterval="1" min="0" max="3" [(value)]="weightDefense"></mat-slider>
        </td>
      </tr>
      <tr>
        <td>
          Speed
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="minimum" [formControl]="minimumSpeed" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="maximum" [formControl]="maximumSpeed" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="soft-cap *" [formControl]="capSpeed" />
          </mat-form-field>
        </td>
        <td>
          <mat-slider thumbLabel [displayWith]="weightDisplay" tickInterval="1" min="0" max="3" [(value)]="weightSpeed"></mat-slider>
        </td>
      </tr>
      <tr>
        <td>
          C.Rate
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="minimum" [formControl]="minimumCriticalChance" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="maximum" [formControl]="maximumCriticalChance" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="soft-cap *" [formControl]="capCriticalChance" />
          </mat-form-field>
        </td>
        <td>
          <mat-slider thumbLabel [displayWith]="weightDisplay" tickInterval="1" min="0" max="3" [(value)]="weightCriticalChance"></mat-slider>
        </td>
      </tr>
      <tr>
        <td>
          C.Damage
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="minimum" [formControl]="minimumCriticalDamage" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="maximum" [formControl]="maximumCriticalDamage" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="soft-cap *" [formControl]="capCriticalDamage" />
          </mat-form-field>
        </td>
        <td>
          <mat-slider thumbLabel [displayWith]="weightDisplay" tickInterval="1" min="0" max="3" [(value)]="weightCriticalDamage"></mat-slider>
        </td>
      </tr>
      <tr>
        <td style="padding-right: 8px">
          Resistance
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="minimum" [formControl]="minimumResistance" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="maximum" [formControl]="maximumResistance" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="soft-cap *" [formControl]="capResistance" />
          </mat-form-field>
        </td>
        <td>
          <mat-slider thumbLabel [displayWith]="weightDisplay" tickInterval="1" min="0" max="3" [(value)]="weightResistance"></mat-slider>
        </td>
      </tr>
      <tr>
        <td>
          Accuracy
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="minimum" [formControl]="minimumAccuracy" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="maximum" [formControl]="maximumAccuracy" />
          </mat-form-field>
        </td>
        <td>
          <mat-form-field>
            <input matInput type="number" placeholder="soft-cap *" [formControl]="capAccuracy" />
          </mat-form-field>
        </td>
        <td>
          <mat-slider thumbLabel [displayWith]="weightDisplay" tickInterval="1" min="0" max="3" [(value)]="weightAccuracy"></mat-slider>
        </td>
      </tr>
    </table>
    <small>* Soft-cap means the stat can go higher but values above soft-cap won't be seen as improvements</small>
    <br />
    <small>- = No priority, + = Low priority, ++ = Normal priority, +++ = High priority</small>
  </form>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-flat-button mat-dialog-close>Cancel</button>
  <button mat-flat-button (click)="optimize()">Optimize</button>
</mat-dialog-actions>
